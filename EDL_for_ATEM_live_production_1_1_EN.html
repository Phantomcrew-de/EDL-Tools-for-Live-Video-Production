<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Edit List for Live Productions</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="edl_core_logic.js"></script>
</head>
<body onload="setInterval(updateTime, 33.3334)">

<div id="info-button" style="position: absolute; top: 10px; right: 10px; cursor: pointer; font-size: 24px;" onclick="toggleInfoBox()">ℹ️</div>
<div id="info-box" style="display: none; position: fixed; top: 50px; right: 50px; background: #fff; border: 2px solid gray; padding: 20px; max-width: 500px; z-index: 1000;">
  <div style="text-align: right;"><button onclick="toggleInfoBox()">❌</button></div>
  <h4>About this App</h4>
  <p>This web application is a simple timecode tracker that allows you to insert comment markers (for editing, directing, chapter markers) during a live production. The generated lists can be imported into timelines with timecode, for example in productions using the ATEM Pro/Mini Pro ISO.</p>
  <h4>Export to DaVinci Resolve:</h4>
  <p>To download the list of comments, click the "Download EDL" button. In DaVinci Resolve, open your project, right-click the timeline, select "Import" → "Timeline Markers from EDL" and choose the downloaded file.</p>
</div>

<div>
  <h1>Edit List for Live Productions</h1>
  <h6>Save and switch projects in your browser:</h6>
  <div style="display: flex; align-items: center; font-size: 20px;">
    <input type="text" id="project-title" placeholder="Enter a project title">
  </div>
  <div style="display: flex; align-items: center; font-size: 20px;">
    <select id="project-dropdown" style="flex:1;" onchange="loadProject()">
      <option value="" disabled selected>Select project</option>
    </select>
    <button onclick="deleteProject()" style="margin-left:8px;">Delete</button>
  </div>
  <br>
  <h6>Settings:</h6>
  <div>
    <select id="timezone-selector" onchange="updateTime()">
      <option value="UTC-12">UTC‒12</option>
      <option value="UTC-11">UTC‒11</option>
      <option value="UTC-10">UTC‒10</option>
      <option value="UTC-9">UTC‒9</option>
      <option value="UTC-8">UTC‒8</option>
      <option value="UTC-7">UTC‒7</option>
      <option value="UTC-6">UTC‒6</option>
      <option value="UTC-5">UTC‒5</option>
      <option value="UTC-4">UTC‒4</option>
      <option value="UTC-3">UTC‒3</option>
      <option value="UTC-2">UTC‒2</option>
      <option value="UTC-1">UTC‒1</option>
      <option value="UTC" selected>UTC</option>
      <option value="UTC+1">UTC+1</option>
      <option value="UTC+2">UTC+2</option>
      <option value="UTC+3">UTC+3</option>
      <option value="UTC+4">UTC+4</option>
      <option value="UTC+5">UTC+5</option>
      <option value="UTC+6">UTC+6</option>
      <option value="UTC+7">UTC+7</option>
      <option value="UTC+8">UTC+8</option>
      <option value="UTC+9">UTC+9</option>
      <option value="UTC+10">UTC+10</option>
      <option value="UTC+11">UTC+11</option>
      <option value="UTC+12">UTC+12</option>
    </select>
    <select id="framerate-selector" onchange="updateTime()">
      <option value="24">24fps</option>
      <option value="25" selected>25fps</option>
      <option value="30">30fps</option>
      <option value="50">50fps</option>
      <option value="60">60fps</option>
      <option value="120">120fps</option>
    </select>
    <br><br>
    <label for="latency-input">Latency (ms):</label>
    <input type="number" id="latency-input" value="0" style="width:100px;">
  </div>
  <br>
  <div id="timer" style="font-size:20px; text-align:center;">00:00:00:00</div>
</div>

<div>
  <table><tr><td>
    <button onclick="addComment()" style="margin:5px;padding:40px;">Add a new Comment ✍️</button>
    <button onclick="addStart()" style="margin:5px;padding:40px;">Start ▶️</button>
    <button onclick="addCut()" style="margin:5px;padding:40px;">Cut ✂️</button>
    <button onclick="addContinue()" style="margin:5px;padding:40px;">Continue 🚶‍♂️</button>
    <button onclick="addAgain()" style="margin:5px;padding:40px;">Again 🔁</button>
    <button onclick="addOuttake()" style="margin:5px;padding:40px;">Outtake 🤣</button>
    <button onclick="addEnd()" style="margin:5px;padding:40px;">End ✋</button>
    <button onclick="addCheckforerror()" style="margin:5px;padding:40px;">Check for Error 🚨</button>
    <button onclick="addSlomo()" style="margin:5px;padding:40px;">Speed change 🐢/🐇</button>
    <button onclick="addTransition()" style="margin:5px;padding:40px;">Transition 🔥</button>
    <button onclick="addVFX()" style="margin:5px;padding:40px;">Effect 💥</button>
    <button onclick="addBesttake()" style="margin:5px;padding:40px;">Best Take 🧡</button>
    <button id="sync-button" onclick="sync()" style="margin:5px;padding:40px;">Sync 🎬</button>
  </td></tr></table>
</div>

<div><ul id="comment-list"></ul></div>
<div>
  <button onclick="downloadList()" style="margin:5px;padding:40px;">💾 Download EDL</button>
</div>

<script>
function toggleInfoBox() {
  const box = document.getElementById("info-box");
  box.style.display = box.style.display === "none" ? "block" : "none";
}
</script>

</body>
</html>
